(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c2e4c48"],{"08ba":function(t,e,r){var a=r("d890"),n=r("064b"),i=r("3c10"),o=r("0fc1");for(var c in n){var s=a[c],f=s&&s.prototype;if(f&&f.forEach!==i)try{o(f,"forEach",i)}catch(u){f.forEach=i}}},"1b6a":function(t,e,r){"use strict";function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}r.d(e,"a",(function(){return n}))},"3c10":function(t,e,r){"use strict";var a=r("5dfd").forEach,n=r("d7e1"),i=r("ff9c"),o=n("forEach"),c=i("forEach");t.exports=o&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},43242:function(t,e,r){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return a}))},"5e9f":function(t,e,r){"use strict";var a=r("b2a2"),n=r("857c"),i=r("3553"),o=r("d88d"),c=r("3da3"),s=r("2732"),f=r("38eb"),u=r("59da"),l=Math.max,d=Math.min,v=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,r,a){var b=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=a.REPLACE_KEEPS_$0,y=b?"$":"$0";return[function(r,a){var n=s(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n,a):e.call(String(n),r,a)},function(t,a){if(!b&&m||"string"===typeof a&&-1===a.indexOf(y)){var i=r(e,t,this,a);if(i.done)return i.value}var s=n(t),v=String(this),h="function"===typeof a;h||(a=String(a));var p=s.global;if(p){var k=s.unicode;s.lastIndex=0}var E=[];while(1){var C=u(s,v);if(null===C)break;if(E.push(C),!p)break;var _=String(C[0]);""===_&&(s.lastIndex=f(v,o(s.lastIndex),k))}for(var x="",$=0,w=0;w<E.length;w++){C=E[w];for(var j=String(C[0]),D=l(d(c(C.index),v.length),0),S=[],P=1;P<C.length;P++)S.push(g(C[P]));var R=C.groups;if(h){var T=[j].concat(S,D,v);void 0!==R&&T.push(R);var A=String(a.apply(void 0,T))}else A=O(j,v,D,S,R,a);D>=$&&(x+=v.slice($,D)+A,$=D+j.length)}return x+v.slice($)}];function O(t,r,a,n,o,c){var s=a+t.length,f=n.length,u=p;return void 0!==o&&(o=i(o),u=h),e.call(c,u,(function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,a);case"'":return r.slice(s);case"<":c=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>f){var l=v(u/10);return 0===l?e:l<=f?void 0===n[l-1]?i.charAt(1):n[l-1]+i.charAt(1):e}c=n[u-1]}return void 0===c?"":c}))}}))},7063:function(t,e,r){var a=r("a719"),n=r("50fb");t.exports=function(t,e,r){var i,o;return n&&"function"==typeof(i=e.constructor)&&i!==r&&a(o=i.prototype)&&o!==r.prototype&&n(t,o),t}},"84c2":function(t,e,r){var a=r("1e2c"),n=r("d890"),i=r("e8d6"),o=r("7063"),c=r("d910").f,s=r("b338").f,f=r("8a1c"),u=r("99ad"),l=r("22ef"),d=r("1944"),v=r("efe2"),h=r("b702").set,p=r("403f"),g=r("90fb"),b=g("match"),m=n.RegExp,y=m.prototype,O=/a/g,k=/a/g,E=new m(O)!==O,C=l.UNSUPPORTED_Y,_=a&&i("RegExp",!E||C||v((function(){return k[b]=!1,m(O)!=O||m(k)==k||"/a/i"!=m(O,"i")})));if(_){var x=function(t,e){var r,a=this instanceof x,n=f(t),i=void 0===e;if(!a&&n&&t.constructor===x&&i)return t;E?n&&!i&&(t=t.source):t instanceof x&&(i&&(e=u.call(t)),t=t.source),C&&(r=!!e&&e.indexOf("y")>-1,r&&(e=e.replace(/y/g,"")));var c=o(E?new m(t,e):m(t,e),a?this:y,x);return C&&r&&h(c,{sticky:r}),c},$=function(t){t in x||c(x,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},w=s(m),j=0;while(w.length>j)$(w[j++]);y.constructor=x,x.prototype=y,d(n,"RegExp",x)}p("RegExp")},9302:function(t,e,r){"use strict";var a=r("1c8b"),n=r("692f"),i=r("da10"),o=r("d7e1"),c=[].join,s=n!=Object,f=o("join",",");a({target:"Array",proto:!0,forced:s||!f},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},b081:function(t,e,r){"use strict";function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return a}))},b73f:function(t,e,r){var a=r("1c8b"),n=r("efe2"),i=r("da10"),o=r("aa6b").f,c=r("1e2c"),s=n((function(){o(1)})),f=!c||s;a({target:"Object",stat:!0,forced:f,sham:!c},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},bf84:function(t,e,r){var a=r("1c8b"),n=r("1e2c"),i=r("8d44"),o=r("da10"),c=r("aa6b"),s=r("1bbd");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,a=o(t),n=c.f,f=i(a),u={},l=0;while(f.length>l)r=n(a,e=f[l++]),void 0!==r&&s(u,e,r);return u}})},c451:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("f3dd"),r("dbb3"),r("fe59"),r("b73f"),r("bf84"),r("fe8a"),r("08ba");var a=r("b081");function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},cf2a:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"order"},[r("van-nav-bar",{attrs:{fixed:"",title:"订单列表","left-text":"返回","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/my")}}}),r("van-tabs",{attrs:{color:"#1989FA","title-active-color":"#1989FA","title-inactive-color":"#444","line-height":"2px",animated:""},on:{change:t.toggleTab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabData,(function(e,a){return r("van-tab",{key:a,attrs:{title:e.title,name:e.name}},[r("div",{staticClass:"order-content"},t._l(t.orderData,(function(e,a){return r("div",{key:a,staticClass:"order-item"},[r("div",{staticClass:"item"},[r("div",{staticClass:"order-title clearfix"},[r("span",{staticClass:"fl order-no"},[t._v(t._s(e.oid))]),r("span",{staticClass:"fr order-text clearfix"},[1==e.status?[r("span",{staticClass:"fl btn",on:{click:function(r){return t.confirmReceive(e.oid,a)}}},[t._v("确认收货")])]:[r("span",{staticClass:"fl btned"},[t._v("已完成")]),r("span",{staticClass:"fl delete-icon",on:{click:function(r){return t.removeOrder(e.oid,a)}}},[r("van-icon",{attrs:{name:"delete"}})],1)]],2)]),t._l(e.data,(function(e,a){return r("div",{key:a,staticClass:"clearfix pro-item"},[r("div",{staticClass:"pro-img fl"},[r("img",{staticClass:"auto-img",attrs:{src:e.smallImg,alt:""}})]),r("div",{staticClass:"pro-desc fl"},[r("div",{staticClass:"pro-name"},[r("div",{staticClass:"ch-name"},[t._v(t._s(e.name))]),r("div",{staticClass:"en-name"},[t._v(t._s(e.enname))])]),r("div",{staticClass:"pro-rule"},[t._v(t._s(e.rule))])]),r("div",{staticClass:"pro-info fr"},[r("div",{staticClass:"pro-price"},[t._v("￥"+t._s(e.price))]),r("div",{staticClass:"pro-count"},[t._v("x"+t._s(e.count))])])])}))],2),r("div",{staticClass:"item clearfix"},[r("div",{staticClass:"fl order-text order-time"},[t._v(t._s(e.orderTime))]),r("div",{staticClass:"fr clearfix"},[r("span",{staticClass:"fl text"},[t._v("共计 "+t._s(e.count)+" 件商品 合计：")]),r("span",{staticClass:"fl price"},[t._v("￥"+t._s(e.total))])])]),r("div",{staticClass:"item bottom-item"})])})),0)])})),1)],1)},n=[],i=(r("fe59"),r("ecb4"),r("08ba"),r("c451")),o=r("8876"),c=r("fa7d"),s={name:"order",data:function(){return{activeName:"0"}},created:function(){this.$store.state.vanTabbar=!1,this.getOrder(0)},destroyed:function(){this.$store.state.vanTabbar=!0},computed:Object(i["a"])({isLogin:function(){return this.$store.state.isLogin}},Object(o["b"])("orderModule",["orderData","tabData"])),methods:{goState:function(){this.$router.push({name:"Login"})},getOrder:function(t){var e=this,r=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"GET",url:"/findOrder",params:{appkey:this.appkey,tokenString:r,status:t}}).then((function(t){if(e.$toast.clear(),e.$store.commit("changeData",{key:"isLogin",value:700!=t.data.code}),700!=t.data.code){var r=[],a=[];t.data.result.forEach((function(t){-1===a.indexOf(t.oid)&&a.push(t.oid)})),a.forEach((function(e){var a={oid:e,count:0,total:0,data:[]};t.data.result.forEach((function(t){t.oid==e&&(a.data.push(t),a.count+=t.count,a.total+=t.count*t.price)})),a.orderTime=c["a"].formatDate(new Date(a.data[0].createdAt),"yyyy-MM-dd hh:mm:ss"),a.status=a.data[0].status,r.push(a)})),r.sort((function(t,e){return new Date(e.orderTime)-new Date(t.orderTime)})),e.$store.commit("orderModule/changeData",{key:"orderData",value:r})}})).catch((function(t){e.$toast.clear()}))},confirmReceive:function(t,e){var r=this,a=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"POST",url:"/receive",data:{appkey:this.appkey,tokenString:a,oid:t},transformRequest:c["a"].transformRequest}).then((function(t){r.$toast.clear(),r.orderData[e].status=2,1==r.activeName&&r.$store.commit("orderModule/removeOrderData",e)})).catch((function(t){r.$toast.clear()}))},toggleTab:function(t){this.getOrder(t)},removeOrder:function(t,e){var r=this,a=localStorage.getItem("_t");this.$toast.loading({forbidClick:!0,duration:0,message:"加载中..."}),this.axios({method:"POST",url:"/removeOrder",data:{appkey:this.appkey,tokenString:a,oid:t},transformRequest:c["a"].transformRequest}).then((function(t){r.$toast.clear(),r.$store.commit("orderModule/removeOrderData",e)})).catch((function(t){r.$toast.clear()}))}}},f=s,u=(r("f35d"),r("e90a")),l=Object(u["a"])(f,a,n,!1,null,"335eab8c",null);e["default"]=l.exports},dbb3:function(t,e,r){"use strict";var a=r("1c8b"),n=r("5dfd").filter,i=r("1ea7"),o=r("ff9c"),c=i("filter"),s=o("filter");a({target:"Array",proto:!0,forced:!c||!s},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},ee31:function(t,e,r){},f35d:function(t,e,r){"use strict";var a=r("ee31"),n=r.n(a);n.a},fa7d:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("fe59"),r("9302"),r("77ad"),r("e18c"),r("84c2"),r("e35a"),r("1c2e"),r("5e9f"),r("08ba");var a=r("43242"),n=r("1b6a"),i=function(){function t(){Object(a["a"])(this,t)}return Object(n["a"])(t,[{key:"transformRequest",value:function(t){var e="";for(var r in t)e+=r+"="+t[r]+"&";return e}},{key:"getCookies",value:function(t,e){var r={};return t.forEach((function(t){r[t]=e.$cookies.get(t)})),r}},{key:"getToken",value:function(t){var e=["t0","t1","t2"],r=[];return e.forEach((function(e){r.push(t.$cookies.get(e))})),r.join(".")}},{key:"formatDate",value:function(t,e){var r=t.getFullYear().toString();if(/(y+)/.test(e)){var a=RegExp.$1;e=e.replace(a,r.slice(r.length-a.length))}var n={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var i in n){var o=new RegExp("(".concat(i,"{1,2})"));if(o.test(e)){var c=RegExp.$1,s=n[i]>=10||1==c.length?n[i]:"0"+n[i];e=e.replace(c,s)}}return e}}]),t}(),o=new i},fe59:function(t,e,r){"use strict";var a=r("1c8b"),n=r("3c10");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},fe8a:function(t,e,r){var a=r("1c8b"),n=r("3553"),i=r("cbab"),o=r("efe2"),c=o((function(){i(1)}));a({target:"Object",stat:!0,forced:c},{keys:function(t){return i(n(t))}})}}]);
//# sourceMappingURL=chunk-9c2e4c48.af601be6.js.map